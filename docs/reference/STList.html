<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>STList: Creation of STList objects — STList • spatialGE</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="STList: Creation of STList objects — STList" />
<meta property="og:description" content="Creates an STList object from one or several spatial transcriptomic samples." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spatialGE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/melanoma_ST_vignette.html">spatialGE: Guide Spatial heterogeneity analysis in melanoma (Thrane et al. 2018)</a>
    </li>
    <li>
      <a href="../articles/spatialGE_troubleshoot.html">Troubleshooting</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>STList: Creation of STList objects</h1>
    
    <div class="hidden name"><code>STList.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates an STList object from one or several spatial transcriptomic samples.</p>
    </div>

    <pre class="usage"><span class='fu'>STList</span><span class='op'>(</span>
  rnacounts <span class='op'>=</span> <span class='cn'>NULL</span>,
  spotcoords <span class='op'>=</span> <span class='cn'>NULL</span>,
  samples <span class='op'>=</span> <span class='cn'>NULL</span>,
  gmx_pkc <span class='op'>=</span> <span class='cn'>NULL</span>,
  gmx_slide_col <span class='op'>=</span> <span class='cn'>NULL</span>,
  gmx_roi_col <span class='op'>=</span> <span class='cn'>NULL</span>,
  gmx_x_col <span class='op'>=</span> <span class='cn'>NULL</span>,
  gmx_y_col <span class='op'>=</span> <span class='cn'>NULL</span>,
  gmx_meta_cols <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rnacounts</th>
      <td><p>The count data which can be provided in one of these formats:</p><ul>
<li><p>File paths to comma- or tab-delimited files containing raw RNA counts, one
for each spatial array. The first column contains gene names. Subsequent columns
contain data for each spot. Duplicate gene names will be appended a suffix ('_d**').
Requires <code>spotcoords</code> and <code>samples</code>.</p></li>
<li><p>File paths to Visium output folders (one per spatial array). The folder should have the
structure resulting from <code>spaceranger count</code> and contain the <code>.h5</code> files and <code>spatial</code> folder.
Requires <code>samples</code>.</p></li>
<li><p>File path to <code>.dcc</code> files from GeoMx output. Requires <code>samples</code>.</p></li>
<li><p>One named list of data frames with raw RNA counts (one data frame per spatial array).
Requires <code>spotcoords</code> and <code>samples</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>spotcoords</th>
      <td><p>The spot coordinates, which are required if inputs are not Visium outputs.
The user can provide one of these formats:</p><ul>
<li><p>File paths to comma- or tab-delimited files containing spot coordinates, one
for each spatial array. The files must contain three columns: spot IDs, y positions, and
x positions. The spot IDs must match the column names for each spot (column) in the RNA count files.</p></li>
<li><p>One named list of data frames with spot coordinates. The list names must match list
names of the RNA counts list.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>samples</th>
      <td><p>The metadata associated to each spatial array. This file can also include
system paths to RNA count and spot coordinate files, bypassing the need to specify <code>rnacounts</code>
and <code>spotcoords</code>. One of the following options should be entered to create an STList:</p><ul>
<li><p>A vector with sample names, which will be used to partial match RNA count and
spot coordinates file paths. A sample name must not match two file paths.</p></li>
<li><p>A path to  the file containing metadata for each spatial array. This file is a comma-
or tab-separated file with one sample per row and sample names in the first column.
Paths to RNA count and coordinate files can be in the second and third column respectively,
and omitting the <code>rnacounts</code> and <code>spotcoords</code> arguments. If Visium, only the second
column with paths to output folders is expected. Subsequent columns can contain
variables associated to each spatial array.
Note: For GeoMx, the metadata file contains one row per ROI. This information is later summarized
to one row per slide by this function.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>gmx_pkc, </th>
      <td><p>the file path to the <code>.pkc</code> (for GeoMx input)</p></td>
    </tr>
    <tr>
      <th>gmx_slide_col, </th>
      <td><p>the name of the column in the metadata table containing the slide names (for GeoMx input)</p></td>
    </tr>
    <tr>
      <th>gmx_roi_col, </th>
      <td><p>the name of the column in the metadata table containing the ROI IDs, matching IDs in the DCC files (for GeoMx input)</p></td>
    </tr>
    <tr>
      <th>gmx_x_col, </th>
      <td><p>the name of the column in the metadata table containing the x coordinates (for GeoMx input)</p></td>
    </tr>
    <tr>
      <th>gmx_y_col, </th>
      <td><p>the name of the column in the metadata table containing the y coordinates (for GeoMx input)</p></td>
    </tr>
    <tr>
      <th>gmx_meta_cols, </th>
      <td><p>a vector with column names in the metadata table containing clinical data (for GeoMx input)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>x, the STList object containing the counts and coordinates, and optionally
the sample metadata.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Objects of the S4 class STList can be created from two sources:</p><ul>
<li><p>Raw RNA counts (genes in rows, spots in columns) and spot coordinates (spots
in rows, with three columns: spot IDs, y position, and x position).</p></li>
<li><p>Visium output folders from Space Ranger. The folder should have the
structure resulting from <code>spaceranger count</code>.</p></li>
</ul><p>Optionally, the user can input a system path to a table containing data associated with
each spatial array (e.g., clinical variables). This sample metadata file should contain
sample IDs in the first column matching partially the file names of the
count/coordinate file paths or Visium directories.</p>
<p>The function will read data in parallel if unix system is available (Windows users
will experience longer times depending on the number of samples).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Using included melanoma example (Thrane et al.)</span>
<span class='co'># data_files &lt;- system.file("extdata", package="spatialGEdev")</span>
<span class='co'># count_files &lt;- grep("genes", data_files, value=T)</span>
<span class='co'># coord_files &lt;- grep("mapping", data_files, value=T)</span>
<span class='co'># clin_file &lt;- grep("clinical", data_files, value=T)</span>
<span class='co'># melanoma &lt;- STList(rnacounts=count_files, spotcoords=coord_files, samples=clin_file)</span>
<span class='co'># melanoma</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Oscar Ospina, Brooke Fridley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


