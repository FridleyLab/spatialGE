<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creates an STList object from one or several spatial transcriptomic samples."><title>STList: Creation of STList objects — STList • spatialGE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="STList: Creation of STList objects — STList"><meta property="og:description" content="Creates an STList object from one or several spatial transcriptomic samples."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">spatialGE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/melanoma_ST_vignette.html">spatialGE: Guide to spatial heterogeneity analysis in melanoma (Thrane et al. 2018)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>STList: Creation of STList objects</h1>
      
      <div class="d-none name"><code>STList.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates an STList object from one or several spatial transcriptomic samples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">STList</span><span class="op">(</span>
  rnacounts <span class="op">=</span> <span class="cn">NULL</span>,
  spotcoords <span class="op">=</span> <span class="cn">NULL</span>,
  samples <span class="op">=</span> <span class="cn">NULL</span>,
  gmx_pkc <span class="op">=</span> <span class="cn">NULL</span>,
  gmx_slide_col <span class="op">=</span> <span class="cn">NULL</span>,
  gmx_roi_col <span class="op">=</span> <span class="cn">NULL</span>,
  gmx_x_col <span class="op">=</span> <span class="cn">NULL</span>,
  gmx_y_col <span class="op">=</span> <span class="cn">NULL</span>,
  gmx_meta_cols <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>rnacounts</dt>
<dd><p>The count data which can be provided in one of these formats:</p><ul><li><p>File paths to comma- or tab-delimited files containing raw RNA counts, one
for each spatial array. The first column contains gene names. Subsequent columns
contain data for each spot. Duplicate gene names will be appended a suffix ('_d**').
Requires <code>spotcoords</code> and <code>samples</code>.</p></li>
<li><p>File paths to Visium output folders (one per spatial array). The folder should have the
structure resulting from <code>spaceranger count</code> and contain the <code>.h5</code> files and <code>spatial</code> folder.
Requires <code>samples</code>.</p></li>
<li><p>File path to <code>.dcc</code> files from GeoMx output. Requires <code>samples</code>.</p></li>
<li><p>One named list of data frames with raw RNA counts (one data frame per spatial array).
Requires <code>spotcoords</code> and <code>samples</code>.</p></li>
</ul></dd>


<dt>spotcoords</dt>
<dd><p>The spot coordinates, which are required if inputs are not Visium outputs.
The user can provide one of these formats:</p><ul><li><p>File paths to comma- or tab-delimited files containing spot coordinates, one
for each spatial array. The files must contain three columns: spot IDs, y positions, and
x positions. The spot IDs must match the column names for each spot (column) in the RNA count files.</p></li>
<li><p>One named list of data frames with spot coordinates. The list names must match list
names of the RNA counts list.</p></li>
</ul></dd>


<dt>samples</dt>
<dd><p>The metadata associated to each spatial array. This file can also include
system paths to RNA count and spot coordinate files, bypassing the need to specify <code>rnacounts</code>
and <code>spotcoords</code>. One of the following options should be entered to create an STList:</p><ul><li><p>A vector with sample names, which will be used to partial match RNA count and
spot coordinates file paths. A sample name must not match two file paths.</p></li>
<li><p>A path to  the file containing metadata for each spatial array. This file is a comma-
or tab-separated file with one sample per row and sample names in the first column.
Paths to RNA count and coordinate files can be in the second and third column respectively,
and omitting the <code>rnacounts</code> and <code>spotcoords</code> arguments. If Visium, only the second
column with paths to output folders is expected. Subsequent columns can contain
variables associated to each spatial array.
Note: For GeoMx, the metadata file contains one row per ROI. This information is later summarized
to one row per slide by this function.</p></li>
</ul></dd>


<dt>gmx_pkc, </dt>
<dd><p>the file path to the <code>.pkc</code> (for GeoMx input)</p></dd>


<dt>gmx_slide_col, </dt>
<dd><p>the name of the column in the metadata table containing the slide names (for GeoMx input)</p></dd>


<dt>gmx_roi_col, </dt>
<dd><p>the name of the column in the metadata table containing the ROI IDs, matching IDs in the DCC files (for GeoMx input)</p></dd>


<dt>gmx_x_col, </dt>
<dd><p>the name of the column in the metadata table containing the x coordinates (for GeoMx input)</p></dd>


<dt>gmx_y_col, </dt>
<dd><p>the name of the column in the metadata table containing the y coordinates (for GeoMx input)</p></dd>


<dt>gmx_meta_cols, </dt>
<dd><p>a vector with column names in the metadata table containing clinical data (for GeoMx input)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>x, the STList object containing the counts and coordinates, and optionally
the sample metadata.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Objects of the S4 class STList can be created from two sources:</p><ul><li><p>Raw RNA counts (genes in rows, spots in columns) and spot coordinates (spots
in rows, with three columns: spot IDs, y position, and x position).</p></li>
<li><p>Visium output folders from Space Ranger. The folder should have the
structure resulting from <code>spaceranger count</code>.</p></li>
</ul><p>Optionally, the user can input a system path to a table containing data associated with
each spatial array (e.g., clinical variables). This sample metadata file should contain
sample IDs in the first column matching partially the file names of the
count/coordinate file paths or Visium directories.</p>
<p>The function will read data in parallel if unix system is available (Windows users
will experience longer times depending on the number of samples).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Using included melanoma example (Thrane et al.)</span></span>
<span class="r-in"><span class="co"># data_files &lt;- system.file("extdata", package="spatialGEdev")</span></span>
<span class="r-in"><span class="co"># count_files &lt;- grep("genes", data_files, value=T)</span></span>
<span class="r-in"><span class="co"># coord_files &lt;- grep("mapping", data_files, value=T)</span></span>
<span class="r-in"><span class="co"># clin_file &lt;- grep("clinical", data_files, value=T)</span></span>
<span class="r-in"><span class="co"># melanoma &lt;- STList(rnacounts=count_files, spotcoords=coord_files, samples=clin_file)</span></span>
<span class="r-in"><span class="co"># melanoma</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Oscar Ospina, Brooke Fridley, Alex Soupir.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

